# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä—è—Å–∫–∏ –∫–∞–º–µ—Ä—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## ‚úÖ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –¢—Ä—è—Å–∫–∞ –∫–∞–º–µ—Ä—ã
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞–º–µ—Ä–∞ —Å–∏–ª—å–Ω–æ —Ç—Ä—è—Å–ª–∞—Å—å –ø—Ä–∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –∑–∞ –∏–≥—Ä–æ–∫–æ–º
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–ª–∞–≤–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è

```python
def focus_on_point(self, world_x: float, world_y: float, screen_width: int, screen_height: int):
    """–§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –∫–∞–º–µ—Ä—ã –Ω–∞ —Ç–æ—á–∫–µ —Å –ø–ª–∞–≤–Ω—ã–º —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º"""
    target_iso_x, target_iso_y = self.world_to_iso(world_x, world_y)
    target_camera_x = target_iso_x - screen_width / 2
    target_camera_y = target_iso_y - screen_height / 2
    
    # –ü–ª–∞–≤–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã (—Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ)
    smoothing_factor = 0.1
    self.camera_x += (target_camera_x - self.camera_x) * smoothing_factor
    self.camera_y += (target_camera_y - self.camera_y) * smoothing_factor
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–∞–º–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –ø–ª–∞–≤–Ω–æ —Å–ª–µ–¥—É–µ—Ç –∑–∞ –∏–≥—Ä–æ–∫–æ–º –±–µ–∑ —Ç—Ä—è—Å–∫–∏

### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### üü¢ –ü–∞–Ω–µ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä–æ–∫–∞
- **–ó–¥–æ—Ä–æ–≤—å–µ**: –¢–µ–∫—É—â–µ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- **–ú–∞–Ω–∞**: –¢–µ–∫—É—â–µ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ  
- **–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å**: –¢–µ–∫—É—â–µ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- **–ü–æ–∑–∏—Ü–∏—è**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–≥—Ä–æ–∫–∞
- **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å**: –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
- **–£—Ä–æ–≤–µ–Ω—å –ò–ò**: –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –æ–±—É—á–µ–Ω–∏—è –ò–ò
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–∞–≥–æ–≤, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π, —Å—É–Ω–¥—É–∫–æ–≤

#### üü° –ü–∞–Ω–µ–ª—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- **–ü—Ä–µ–¥–º–µ—Ç—ã**: –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
- **–ù–∞–∑–≤–∞–Ω–∏—è**: –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–í–µ—Å**: –û–±—â–∏–π –≤–µ—Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

#### üü£ –ü–∞–Ω–µ–ª—å –≥–µ–Ω–µ—Ç–∏–∫–∏
- **–ê–∫—Ç–∏–≤–Ω—ã–µ –≥–µ–Ω—ã**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–µ–Ω–æ–≤
- **–ú—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å**: –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –º—É—Ç–∞—Ü–∏–π
- **–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –ü–µ—Ä–≤—ã–µ 3 –≥–µ–Ω–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏

#### üîµ –ü–∞–Ω–µ–ª—å —ç–º–æ—Ü–∏–π
- **–î–æ–º–∏–Ω–∏—Ä—É—é—â–∞—è —ç–º–æ—Ü–∏—è**: –û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–∫—É—â–∞—è —ç–º–æ—Ü–∏—è
- **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å**: –ß–∏—Å–ª–æ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –±–∞–ª–∞–Ω—Å–∞
- **–¢–µ–∫—É—â–∏–µ —ç–º–æ—Ü–∏–∏**: –°–ø–∏—Å–æ–∫ —ç–º–æ—Ü–∏–π —Å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å—é
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

#### üó∫Ô∏è –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞
- **–†–∞–∑–º–µ—Ä**: 150x150 –ø–∏–∫—Å–µ–ª–µ–π
- **–ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
- **–ò–≥—Ä–æ–∫**: –ó–µ–ª–µ–Ω—ã–π –∫—Ä—É–≥ (4px)
- **–í—Ä–∞–≥–∏**: –ö—Ä–∞—Å–Ω—ã–µ –∫—Ä—É–≥–∏ (2px)
- **–ú–∞—è–∫–∏**: –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º
- **–ú–∞—Å—à—Ç–∞–±**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏—Ä–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –°–∏—Å—Ç–µ–º–∞ —ç–º–æ—Ü–∏–π
–î–æ–±–∞–≤–ª–µ–Ω –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π –º–µ—Ç–æ–¥ `get_all_emotions()`:
```python
def get_all_emotions(self) -> Dict[str, float]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–º–æ—Ü–∏–π —Å –∏—Ö –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å—é"""
    emotions = {}
    
    # –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤–∏—á–Ω—É—é —ç–º–æ—Ü–∏—é
    if self.primary_emotion:
        emotions[self.primary_emotion] = 1.0
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≤—Ç–æ—Ä–∏—á–Ω—ã–µ —ç–º–æ—Ü–∏–∏
    for emotion in self.secondary_emotions:
        emotions[emotion] = 0.7
    
    # –î–æ–±–∞–≤–ª—è–µ–º —ç–º–æ—Ü–∏–∏ –∏–∑ –ø–∞–º—è—Ç–∏
    for emotion, intensity in self.emotional_memory.items():
        if emotion not in emotions:
            emotions[emotion] = intensity
    
    return emotions
```

### 2. –°–∏—Å—Ç–µ–º–∞ –ò–ò
–î–æ–±–∞–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `learning_level` –∏ –º–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```python
def _update_learning_level(self):
    """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –æ–±—É—á–µ–Ω–∏—è –ò–ò"""
    try:
        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–ø—ã—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
        if self.experience_points > self.level * 100:
            self.level += 1
            self.learning_level = self.level
            self.experience_points = 0
            logger.info(f"–ò–ò {self.entity_id} –¥–æ—Å—Ç–∏–≥ —É—Ä–æ–≤–Ω—è {self.level}")
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –æ–±—É—á–µ–Ω–∏—è: {e}")
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í—Å–µ –ø–∞–Ω–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏:
- Try-catch –±–ª–æ–∫–∏ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- Fallback –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üéÆ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –ü–∞–Ω–µ–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [x] –°—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞ (HP/MP/Stamina)
- [x] –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —Å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
- [x] –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- [x] –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- [x] –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ –º–∏—Ä–∞

### ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- [x] –¢–µ–∫—É—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- [x] –£—Ä–æ–≤–µ–Ω—å –æ–±—É—á–µ–Ω–∏—è –ò–ò
- [x] –ê–∫—Ç–∏–≤–Ω—ã–µ –≥–µ–Ω—ã
- [x] –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
- [x] –ü–æ–∑–∏—Ü–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ

### ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- [x] –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- [x] –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏
- [x] –†–∞–º–∫–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

1. **–ö–∞–º–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ** –±–µ–∑ —Ç—Ä—è—Å–∫–∏
2. **–í—Å–µ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã** –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
3. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
4. **–ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –∏–≥—Ä–æ–∫–∞, –≤—Ä–∞–≥–æ–≤ –∏ –º–∞—è–∫–∏
5. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π** –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** –∑–∞ –∏–≥—Ä–æ–∫–æ–º
- **–ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ** –±–µ–∑ —Ä—ã–≤–∫–æ–≤
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–ª–∞–≤–∏—à–∞–º–∏ +/-

### –ü–∞–Ω–µ–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–õ–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞**: –°—Ç–∞—Ç—É—Å –∏ –≥–µ–Ω–µ—Ç–∏–∫–∞
- **–ü—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞**: –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ —ç–º–æ—Ü–∏–∏
- **–ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö**: –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞
- **–ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å**: –ü–æ–¥—Å–∫–∞–∑–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞** –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ –ò–ò** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–º
- **–≠–º–æ—Ü–∏–∏** –∏–∑–º–µ–Ω—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- **–ü–æ–∑–∏—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤** –Ω–∞ –º–∏–Ω–∏-–∫–∞—Ä—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã

–¢–µ–ø–µ—Ä—å –∏–≥—Ä–∞ –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–ª–∞–≤–Ω–æ–π –∫–∞–º–µ—Ä–æ–π –∏ –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π! üéÆ‚ú®
